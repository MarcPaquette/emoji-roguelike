{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implemented inspectPlayerLocked: bumping another player shows their name, class, HP, and equipped gear. 3 tests added.","closed_at":"2026-03-01T16:39:14Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"80cb62e4007c2d4bdd64f6ecb041078643a60205a14a3ceac637341471313d84","created_at":"2026-03-01T16:32:42Z","created_by":"Marc Paquette","crystallizes":0,"defer_until":null,"description":"","design":"## Implementation Plan\n\n### What happens now\nWhen a player bumps into another player, `TryMove` returns `(MoveAttack, otherPlayerID)`. The code at server.go:416 checks `s.isPlayerEntity(target)` and silently returns ‚Äî no message, no interaction.\n\n### What we want\nWhen a player bumps another player, show the bumper an inspection message with:\n- Player name and class\n- Current HP / Max HP\n- Equipped items (each slot that has something equipped)\n\nThe bumped player is unaffected (no message, no state change).\n\n### Changes\n\n**1. `internal/mud/server.go` ‚Äî `processActionLocked`**\nReplace the silent `return` at the `isPlayerEntity(target)` check (~line 416) with a call to a new `inspectPlayerLocked(sess, target)` method.\n\n**2. `internal/mud/server.go` ‚Äî new `inspectPlayerLocked(sess *Session, targetID ecs.EntityID)`**\n- Look up target session via `s.sessionByPlayerID(targetID)`\n- If nil, return (shouldn't happen but defensive)\n- Get target's Health component from the floor's World\n- Build message lines:\n  - Line 1: `\"üë§ \u003cName\u003e ‚Äî \u003cClassName\u003e (\u003cCurrentHP\u003e/\u003cMaxHP\u003e ‚ù§Ô∏è)\"`\n  - Line 2: equipment summary ‚Äî iterate Head/Body/Feet/MainHand/OffHand slots on target's Inventory component; list equipped item names with glyphs, or skip if nothing equipped\n- Send via `sess.AddMessage()` (only the bumper sees it)\n\n**3. `internal/mud/mud_test.go` ‚Äî new test `TestInspectPlayerOnBump`**\n- Create server with two sessions on the same floor\n- Move player 1 into player 2's position\n- Assert player 1 received an inspection message containing player 2's name and class\n- Assert player 2 received no messages\n- Test with equipment: equip an item on player 2, bump again, verify equipment shows in message","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"emoji-roguelike-3f4","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"marc.philip.paquette@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"On the MUD server when a player moves into another play, the player name, class, health and equipment should be listed. The player who was bumped into should not have anything happen to them.","updated_at":"2026-03-01T16:39:14Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"2b27c919e1351a2b431095914bfa25c4a304094692c6097e4957ed1c8133382e","created_at":"2026-03-01T16:32:25Z","created_by":"Marc Paquette","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"emoji-roguelike-72a","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"marc.philip.paquette@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"The MUD server should also allow telnet connections to the server. They should share the same play area as the SSH users.","updated_at":"2026-03-01T16:32:25Z","waiters":"","wisp_type":"","work_type":""}
